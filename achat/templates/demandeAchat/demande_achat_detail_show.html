{%  extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% load tag %}

{% block content %}



<form id="DemandeAchat_Form"  action="" method="" autocomplete="off">
    
    
<div class="row">
  <div   class="col-md-4">

        
           
  <label  class="form-label">
      Demandeur
  </label>

 <input type="text" disabled id="created_by_id" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{achat.created_by}}">
          

</div>
<div id="autre_nature_achat_div"   class="col-md-8">

  <label  class="form-label">
    Structure du demandeur
</label>

<input type="text" disabled id="structure_id" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{structure}}">
</div>
</div>

       <div class="row">
        <div class="col-md-4">

    {{form.destination_achat|as_crispy_field}}
 
</div>
</div>


  
   <div class="row">
    <div   class="col-md-4">

<div id="projet_div" class="mb-3">

  <label  class="form-label">
      Projet
  </label>

 <input type="text" id="id_projet" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{projet__}}">
          

</div>
</div>


  </div>



   <div class="row">
        <div class="col-md-4">




          {{form.nature_achat|as_crispy_field}}
        </div>
        <div id="autre_nature_achat_div"   class="col-md-8">

           {{form.autre_nature_achat|as_crispy_field}}
        </div>


   </div>
   <div class="row">
     <div class="col-md-4">

             {{form.disponibilité |as_crispy_field}}
        </div>
      </div>

     <div class="row">
        <div class="col-md-4">
          {{form.mise_dispo|as_crispy_field}}
        </div>
        <div id="autre_mise_dispo_div"  class="col-md-8">

           {{form.autre_mise_dispo|as_crispy_field}}
        </div>

    </div>
     <div class="row">
        <div   class="col-md-4">



          {{form.affectation_achat|as_crispy_field}}
   
        </div>
        <div id="autre_affectation_achat_div"  class="col-md-8">

           {{form.autre_affectation_achat|as_crispy_field}}
        </div>

    </div>
     <div class="col-md-4">

           {{form.devise|as_crispy_field}}
           {{form.fournisseurs|as_crispy_field}}
           {{form.designations|as_crispy_field}}
           {{form.prices|as_crispy_field}}
           {{form.qtys|as_crispy_field}}
        </div>

        <div class="row">
        <div   class="col-md-4">
          <label  class="form-label">
            Compte Comptable Detail
        </label>

      
       <input type="text" id="id_code_comptable" name="code_comptable" maxlength="255" class="textinput textInput form-control"  value="{{compte}}">
                  
        </div>
    
        <div  class="col-md-8">
          <label  class="form-label">
            Compte Comptable Detail
        </label>

      
       <input type="text" id="id_code_detail" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{detail}}">
      </div>

    </div>
      <div class="row">
        <div   class="col-md-4">
                 <label  class="form-label">
            Etat Achat
        </label>


       <input type="text" id="id_etat_achat" name="etat_achat" maxlength="255" class="textinput textInput form-control" value="{{achat.etat_achat}}">
        </div>
                 </div>
    <br></br>
<table class="table align-middle mb-0 bg-white">
  <thead class="bg-light">
    <tr>
      <th>Designation</th>
      <th>Fournisseurs</th>

        <th>Quantité</th>
        <th>Prix Unitaire</th>


    </tr>
  </thead>
  <tbody>
      {% for produit in produits_achat %}
    <tr>
      <td>
        <div class="d-flex align-items-center">
         
          <div class="ms-4">
            <p class="fw-bold mb-1">{{produit.designation}}</p>

          </div>

        </div>
      </td>
        <td>
            <div class="d-flex align-items-center">

              <div class="ms-4">
                <p class="text-muted mb-0">{{produit.fournisseur}}</p>
              </div>
            </div>
        </td>

        <td>
            <div class="d-flex align-items-center">

              <div class="ms-4">
                <p class="text-muted mb-0">{{produit.quantite}}</p>

              </div>
            </div>


        </td>
        <td>
              <div class="d-flex align-items-center">
              <div class="ms-4">
                <p class="text-muted mb-0">{{produit.price}}</p>


                    








              </div>
            </div>
        </td>

    </tr>
    {%  endfor  %}
  </tbody>
</table>

<br> </br>
<div class="row">
  <div   class="col-md-4">

        
           
  <label  class="form-label">
      Total
  </label>

 <input type="text" id="id_total" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{total_devis}}">
          

</div>
</div>

<div class="row">
  <div   class="col-md-4">

        
           
  <label  class="form-label">
      Budget
  </label>

 <input type="text" disabled="True" id="id_Budget" name="autre_nature_achat" maxlength="255" class="textinput textInput form-control" value="{{budget}}">
          

</div>
</div>





            






    <br> </br>



    
      
      


 
    <div class="row">
  
      <div class="col-md-4">
          <a href="{% url 'demandeachat_all' %}" class="btn btn-secondary btn-block btn-lg">
              <i class="fas fa-stream"></i> Back to list
          </a>
      </div>
      <div class="col-md-4">
        <a href="{% url 'demande_achat_download' id %}" class="btn btn-primary btn-block btn-lg">
            <i class="fas fa-stream"></i> Telecharger
        </a>
    </div>
    </div>
      
   

  
</form>









{% endblock content %}

{% block js %}



  <script>
    document.getElementById("id_destination_achat").disabled = true;
    document.getElementById("id_projet").disabled = true;
    document.getElementById("id_nature_achat").disabled = true;
    document.getElementById("id_autre_nature_achat").disabled = true;
    document.getElementById("id_disponibilité").disabled = true;
    document.getElementById("id_mise_dispo").disabled = true;
    document.getElementById("id_autre_mise_dispo").disabled = true;
    document.getElementById("id_affectation_achat").disabled = true;
    document.getElementById("id_autre_affectation_achat").disabled = true;
    document.getElementById("id_code_comptable").disabled = true;
    document.getElementById("id_etat_achat").disabled = true;

    document.getElementById("id_devise").disabled = true;
    document.getElementById("id_code_detail").disabled = true;
    document.getElementById("id_total").disabled = true;
 

   
  </script>
    

  
  {% endblock %}